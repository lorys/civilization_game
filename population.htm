<html>
	<head>
<script>
	nbr = -1;
	last_dead = 0;
	function choose_direction(elemnt, unity)
	{
			direction = Math.round(Math.random() * 8);
			switch (direction)
			{
				case 0:
					elemnt.style.top=elemnt.offsetTounity;
				break; 

				case 1:
					elemnt.style.top=elemnt.offsetTop-unity;
					elemnt.style.left=elemnt.offsetLeft+unity;
				break; 

				case 2:
					elemnt.style.left=elemnt.offsetLeft+unity;
				break; 
				
				case 3:
					elemnt.style.top=elemnt.offsetTop+unity;
					elemnt.style.left=elemnt.offsetLeft+unity;
				break; 
				
				case 4:
					elemnt.style.top=elemnt.offsetTounity;
				break; 
				
				case 5:
					elemnt.style.top=elemnt.offsetTop+unity;
					elemnt.style.left=elemnt.offsetLeft-unity;
				break; 
				
				case 6:
					elemnt.style.left=elemnt.offsetLeft-unity;
				break; 
				
				case 7:
					elemnt.style.top=elemnt.offsetTop-unity;
					elemnt.style.left=elemnt.offsetLeft-unity;
				break;
			}
	}

	function moving(elemnt, unity)
	{
			y_before = elemnt.offsetTop;
			x_before = elemnt.offsetLeft;
			choose_direction(elemnt, unity);
			if ((elemnt.offsetTop > window.innerHeight || elemnt.offsetLeft > window.innerWidth || elemnt.offsetTop < 0 || elemnt.offsetLeft < 0))
			{
					elemnt.style.top=y_before;
					elemnt.style.left=x_before;
				moving(elemnt);
			}
	}

	function procreation()
	{
		nbr++;
		sex_orientation = (Math.round(Math.random() * 1))?"Male":"Female";
		document.body.innerHTML+="<div sex='"+sex_orientation+"' id='"+nbr+"' style='background-color: "+((sex_orientation == "Male")?"black":"blue")+"; top: "+Math.round(Math.random() * window.innerHeight)+"; left: "+Math.round(Math.random() * window.innerWidth)+";'></div>";
	}

	function leave(id)
	{
		sex = 0;
		elemnt = document.getElementById(id);
		for (a = last_dead; nbr > a; a++)
		{
			elemnt_tmp = document.getElementById(a);
			if (!elemnt_tmp || elemnt_tmp == elemnt)
				continue;
			if (elemnt.offsetLeft >= elemnt_tmp.offsetLeft && elemnt.offsetLeft <= (elemnt_tmp.offsetLeft+elemnt_tmp.offsetWidth) && elemnt.offsetTop >= (elemnt_tmp.offsetTop+elemnt_tmp.offsetHeight))
			{
				if ((elemnt.getAttribute("sex") == "Male" && elemnt_tmp.getAttribute("sex") == "Female") || (elemnt.getAttribute("sex") == "Female" && elemnt_tmp.getAttribute("sex") == "Male"))
				{
					procreation();
					sex = 1;
				}
			}
		}
		if (sex == 0)
			moving(elemnt, Math.round(Math.random() * 50));
		else
			moving(elemnt, Math.round(Math.random() * 200));
	}

	function die(id)
	{
		last_dead = id+1;
		document.getElementById(id).remove();
	}

	function life()
	{
		age = 100;
		for (z = last_dead; z <= nbr; z++)
		{
			if (z > age)
				die(z);
			else
				leave(z);
		}
	}

	function start()
	{
		for (b = 0; b < 10; b++){ procreation(); }
		setInterval("life()", 500);
	}
</script>
<style>
	
	div {
		background-color: blue;
		border-radius: 25% 25% 25% 25%;
		width: 10;
		height: 10;
		position: absolute;
		transform: translate(-50%, -50%);
	}

</style>
</head>
<body onload="start();">


</body>
</html>